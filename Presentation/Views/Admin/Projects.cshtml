@model IEnumerable<Business.Models.ProjectListItem>
@{
    ViewData["Title"] = "Projects";
    // Ensure we pass any error/success messages from TempData to ViewBag if needed
    if (TempData["Error"] != null)
    {
        ViewBag.ErrorMessage = TempData["Error"];
    }
    if (TempData["Success"] != null)
    {
        ViewBag.SuccessMessage = TempData["Success"];
    }
}

<partial name="Partials/Sections/_AddProjectForm" model="new Business.Models.AddProjectForm()" />
<partial name="Partials/Sections/_EditProjectForm" model="new Business.Models.EditProjectForm()" />
<div class="page-header">
    <h1>@ViewData["Title"]</h1>
    <button type="button" class="btn btn-add" data-modal="true" data-target="#addProjectModal">Add Project</button>
</div>

<section id="projects">
    <div class="surface">
        @await Html.PartialAsync("Partials/Sections/_ProjectList", Model)
    </div>
</section>